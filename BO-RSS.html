<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>British Orienteering News Feed Example</title>
</head>
<body>
    <h1>Latest News from British Orienteering</h1>
    <div id="rss-feed"></div>

    <script>

<!-- function to get a news feed -->
        async function fetchRSSFeed(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const rssText = await response.text();
                return rssText;
            } catch (error) {
                console.error('Error fetching RSS feed:', error);
            }
        }

<!-- function to parse news need -->
        function parseRSS(rssText) {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(rssText, 'text/xml');
            return xmlDoc;
        }

<!-- function to return news feed items as html for display -->
        function displayRSSFeed(xmlDoc) {
            const items = xmlDoc.querySelectorAll('item');
            const feedContainer = document.getElementById('rss-feed');
            let html = '';

            items.forEach(item => {
                const title = item.querySelector('title').textContent;
                const link = item.querySelector('link').textContent;
                const description = item.querySelector('description').textContent;

                html += `
                    <div class="rss-item">
                        <h2><a href="${link}" target="_blank">${title}</a></h2>
                        <p>${description}</p>
                    </div>
                `;
            });
            feedContainer.innerHTML = html;
        }

<!-- function to call functions that get, parse & display news feed-->
        async function loadRSSFeed() {
            const rssUrl = 'https://feeds.bbci.co.uk/news/rss.xml';
            <!-- 'https://www.britishorienteering.org.uk/rss'; -->
            const rssText = await fetchRSSFeed(rssUrl);
            const xmlDoc = parseRSS(rssText);
            displayRSSFeed(xmlDoc);
        }

<!-- news feed -->
	loadRSSFeed();

    </script>
	version 10.58
</body>
</html>
